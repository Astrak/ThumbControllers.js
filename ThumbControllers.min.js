var ThumbControllers=ThumbControllers||{};ThumbControllers.Slider=function(a){function b(a){c(void 0===a?h.value:a),k?u.style.top=r*(i-j)+"px":u.style.left=r*(i-j)+"px",h.display&&(v.textContent=h.value),n&&n(h.value)}function c(a){var b=void 0===a?h.value:a;b=d(0,1,b),r=k?1-b:b,b=b*(h.max-h.min)+h.min;var c=h.step,e=b,f=0;if(e!==parseInt(e)||c!==parseInt(c))for(;e!==parseInt(e)||c!==parseInt(c);)e*=10,c*=10,++f>5&&(e=parseInt(e),c=parseInt(c));b=(e-e%c)/Math.pow(10,f),h.value=b}function d(a,b,c){return Math.min(b,Math.max(a,c))}function e(a){a.preventDefault(),a.stopPropagation();for(var c=s;c;)q+=k?c.offsetTop:c.offsetLeft,c=c.offsetParent;return k?(o=a.touches?a.touches[0].clientY:a.clientY,p=1-(o-q-j/2)/(i-j)):(o=a.touches?a.touches[0].clientX:a.clientX,p=(o-q-j/2)/(i-j)),a.target===t&&b(p),!1}function f(a){if(o!==!1){var c,d;k?(c=a.touches?a.touches[0].clientY:a.clientY,d=p-(c-o)/(i-j)):(c=a.touches?a.touches[0].clientX:a.clientX,d=p+(c-o)/(i-j)),b(d)}}function g(){o=!1,q=0}var h=this,i=200,j=50,k,l="#666",m="#333",n=null,o=!1,p,q=0,r=0,s=document.createElement("div"),t=document.createElement("div"),u=document.createElement("div"),v=document.createElement("p");this.value=0,this.max=1,this.min=0,this.step=.01,this.display=!0,s.appendChild(t),s.appendChild(u),u.appendChild(v);var w=document.createElement("style");document.head.appendChild(w),w.sheet.insertRule(".grab{cursor:grab;cursor:-webkit-grab;cursor:-moz-grab;}",0),w.sheet.insertRule(".grab:active{cursor:grabbing;cursor:-webkit-grabbing;cursor:-moz-grabbing;}",0),t.className=u.className="grab",u.addEventListener("mousedown",e,!1),u.addEventListener("touchstart",e,!1),t.addEventListener("mousedown",e,!1),t.addEventListener("touchstart",e,!1),window.addEventListener("mouseup",g,!1),window.addEventListener("touchend",g,!1),window.addEventListener("mousemove",f,!1),window.addEventListener("touchmove",f,!1),a&&(this.max=void 0===a.max?this.max:a.max,this.min=void 0===a.min?this.min:a.min,this.step=void 0===a.step?this.step:a.step,this.value=void 0===a.value?this.value:a.value,this.display=void 0===a.display?this.display:a.display,i=void 0===a.width?i:a.width,j=void 0===a.thumbWidth?j:a.thumbWidth,l=a.color1||l,m=a.color2||m,k=a.vertical),t.style.cssText="position:absolute;border-radius:2px;background:"+l+";",t.style.cssText+=k?"height:"+i+"px;width:8px;top:50%;margin-left:-4px;":"width:"+i+"px;height:8px;top:50%;margin-top:-4px;",u.style.cssText="overflow:hidden;position:absolute;box-shadow:0 0 10px;background:"+m+";border-radius:50%;",u.style.cssText+=k?"height:"+j+"px;width:"+j+"px;left:50%;margin-left:-"+j/2+"px;":"width:"+j+"px;height:"+j+"px;top:50%;margin-top:-"+j/2+"px;",v.style.cssText="text-align:center;font-family:sans-serif;font-weight:bold;font-size:medium;color:"+l+";",b(),this.el=s,this.onChange=function(a){n=a},this.setValue=function(a){a=(a-h.min)/(h.max-h.min),b(a)}},ThumbControllers.CircularSlider=function(a){function b(a){p!==!1&&(t=g(a),e(t))}function c(a){var b=w;for(p=q=0;b;)p+=b.offsetLeft,q+=b.offsetTop,b=b.offsetParent;p+=k,q+=k,t=g(a),e(t)}function d(){p=!1}function e(a){var b=void 0===a?i.value:a;f(b);var c=100*(2*b*Math.PI+Math.PI/2)/(2*Math.PI);A.setAttribute("stroke-dashoffset",c.toString()),i.display&&(C.textContent=i.value),o&&o(i.value)}function f(a){var b=void 0===a?i.value:a;b=h(0,1,b),u=b,b=b*(i.max-i.min)+i.min;var c=i.step,d=b,e=0;if(d!==parseInt(d)||c!==parseInt(c))for(;d!==parseInt(d)||c!==parseInt(c);)d*=10,c*=10,++e>5&&(d=parseInt(d),c=parseInt(c));b=(d-d%c)/Math.pow(10,e),i.value=b}function g(a){var b,c,d,e;return b=a.touches?a.touches[0].clientX:a.clientX,c=a.touches?a.touches[0].clientY:a.clientY,b-=p,c=-c-q,e=Math.atan(c/b),d=b<0?Math.PI+e:e,d/=2*Math.PI}function h(a,b,c){return Math.min(b,Math.max(a,c))}var i=this,j=200,k=100,l="#666",m="#333",n="#111",o=null;this.value=0,this.max=1,this.min=0,this.step=.01,this.display=!0;var p=!1,q,r,s,t,u,v=document.createElement("style");document.head.appendChild(v),v.sheet.insertRule(".grab{cursor:grab;cursor:-webkit-grab;cursor:-moz-grab;}",0),v.sheet.insertRule(".grab:active{cursor:grabbing;cursor:-webkit-grabbing;cursor:-moz-grabbing;}",0),a&&(this.max=void 0===a.max?this.max:a.max,this.min=void 0===a.min?this.min:a.min,this.step=void 0===a.step?this.step:a.step,this.value=void 0===a.value?this.value:a.value,this.display=void 0===a.display?this.display:a.display,j=void 0===a.width?j:a.width,k=j/2,l=a.color1||l,m=a.color2||m);var w=document.createElement("div"),x="http://www.w3.org/2000/svg",y=document.createElementNS(x,"svg"),z=document.createElementNS(x,"circle"),A=document.createElementNS(x,"circle"),B=document.createElementNS(x,"circle"),C=document.createElement("p");y.setAttribute("width",j),y.setAttribute("height",j),y.style.cssText="width: 100%; height: 100%;",w.appendChild(y);var D="translate("+k+","+k+")";z.setAttribute("transform",D),z.setAttribute("r","90"),z.setAttribute("fill","#111"),z.setAttribute("class","grab"),A.setAttribute("transform",D),A.setAttribute("r","80"),A.setAttribute("fill","none"),A.setAttribute("class","grab"),A.setAttribute("stroke-dashoffset","953"),B.setAttribute("transform",D),B.setAttribute("r","70"),B.setAttribute("fill",m),B.setAttribute("class","grab"),A.style.cssText="stroke: "+l+"; fill: none; stroke-width: 20;",C.style.cssText="text-align:center;font-family:sans-serif;font-weight:bold;font-size:medium;color:"+l+";",y.appendChild(z),y.appendChild(A),y.appendChild(B),i.display&&w.appendChild(C),A.addEventListener("mousedown",c,!1),A.addEventListener("touchstart",c,!1),z.addEventListener("mousedown",c,!1),z.addEventListener("touchstart",c,!1),B.addEventListener("mousedown",c,!1),B.addEventListener("touchstart",c,!1),window.addEventListener("mouseup",d,!1),window.addEventListener("touchend",d,!1),window.addEventListener("mousemove",b,!1),window.addEventListener("touchmove",b,!1),this.el=w,this.onChange=function(a){o=a},this.setValue=function(a){a=(a-i.min)/(i.max-i.min),e(a)}};